{"version":3,"file":"vue-array-permission.umd.js","sources":["../src/vue-array-permission.ts"],"sourcesContent":["/*\n * @Author: Ted Yuen\n * @Date: 2019-11-27 10:52:01\n * @Last Modified by: Ted Yuen\n * @Last Modified time: 2019-11-27 12:15:35\n * @Desc: main entrance\n */\nclass VueArrayPermission {\n  permissions?: Array<string>\n  constructor() {\n    this.reset()\n  }\n\n  reset() {\n    this.permissions = []\n  }\n\n  authorize(permissions: Array<string>): void {\n    this.permissions = permissions\n  }\n\n  hasPermission(permission: string): boolean {\n    if (this.permissions) {\n      return this.permissions.findIndex(item => item === permission) === -1 ? false : true\n    } else {\n      return false\n    }\n  }\n}\n\nlet Plugin = {\n  install: function(Vue: any, options?: object) {\n    let apermissionIns = new VueArrayPermission()\n    Vue.apermission = apermissionIns\n    Vue.prototype.$apermission = apermissionIns\n    Vue.directive('permission', function(el: any, binding: any) {\n      if (typeof binding.expression === 'string') {\n        if (apermissionIns.hasPermission(binding.expression)) {\n          el.style.display = 'none'\n        } else {\n          el.style.display = 'block'\n        }\n      }\n    })\n  }\n}\n\nexport default Plugin\n"],"names":[],"mappings":";;;;;;EAAA;;;;;;;EAOA;MAEE;UACE,IAAI,CAAC,KAAK,EAAE,CAAA;OACb;MAED,kCAAK,GAAL;UACE,IAAI,CAAC,WAAW,GAAG,EAAE,CAAA;OACtB;MAED,sCAAS,GAAT,UAAU,WAA0B;UAClC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAA;OAC/B;MAED,0CAAa,GAAb,UAAc,UAAkB;UAC9B,IAAI,IAAI,CAAC,WAAW,EAAE;cACpB,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,KAAK,UAAU,GAAA,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK,GAAG,IAAI,CAAA;WACrF;eAAM;cACL,OAAO,KAAK,CAAA;WACb;OACF;MACH,yBAAC;EAAD,CAAC,IAAA;EAED,IAAI,MAAM,GAAG;MACX,OAAO,EAAE,UAAS,GAAQ,EAAE,OAAgB;UAC1C,IAAI,cAAc,GAAG,IAAI,kBAAkB,EAAE,CAAA;UAC7C,GAAG,CAAC,WAAW,GAAG,cAAc,CAAA;UAChC,GAAG,CAAC,SAAS,CAAC,YAAY,GAAG,cAAc,CAAA;UAC3C,GAAG,CAAC,SAAS,CAAC,YAAY,EAAE,UAAS,EAAO,EAAE,OAAY;cACxD,IAAI,OAAO,OAAO,CAAC,UAAU,KAAK,QAAQ,EAAE;kBAC1C,IAAI,cAAc,CAAC,aAAa,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE;sBACpD,EAAE,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAA;mBAC1B;uBAAM;sBACL,EAAE,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAA;mBAC3B;eACF;WACF,CAAC,CAAA;OACH;GACF,CAAA;;;;;;;;"}