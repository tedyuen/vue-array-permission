{"version":3,"file":"vue-array-permission.es5.js","sources":["../src/vue-array-permission.ts"],"sourcesContent":["/*\n * @Author: Ted Yuen\n * @Date: 2019-11-27 10:52:01\n * @Last Modified by: Ted Yuen\n * @Last Modified time: 2019-11-27 15:14:19\n * @Desc: main entrance\n */\nclass VueArrayPermission {\n  permissions?: Array<string>\n  constructor() {\n    this.reset()\n  }\n\n  reset() {\n    this.permissions = []\n  }\n\n  authorize(permissions: Array<string>): void {\n    this.permissions = permissions\n  }\n\n  hasPermission(permission: string): boolean {\n    if (this.permissions) {\n      return this.permissions.findIndex(item => item === permission) === -1 ? false : true\n    } else {\n      return false\n    }\n  }\n}\n\nlet Plugin = {\n  install: function(Vue: any, options?: object) {\n    let apermissionIns = new VueArrayPermission()\n    Vue.apermission = apermissionIns\n    Vue.prototype.$apermission = apermissionIns\n    Vue.directive('ap-show', function(el: any, binding: any) {\n      if (!apermissionIns.hasPermission(binding.arg)) {\n        el.style.display = 'none'\n      } else {\n        el.style.display = 'block'\n      }\n    })\n  }\n}\n\nexport default Plugin\n"],"names":[],"mappings":"AAAA;;;;;;;AAOA;IAEE;QACE,IAAI,CAAC,KAAK,EAAE,CAAA;KACb;IAED,kCAAK,GAAL;QACE,IAAI,CAAC,WAAW,GAAG,EAAE,CAAA;KACtB;IAED,sCAAS,GAAT,UAAU,WAA0B;QAClC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAA;KAC/B;IAED,0CAAa,GAAb,UAAc,UAAkB;QAC9B,IAAI,IAAI,CAAC,WAAW,EAAE;YACpB,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,KAAK,UAAU,GAAA,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK,GAAG,IAAI,CAAA;SACrF;aAAM;YACL,OAAO,KAAK,CAAA;SACb;KACF;IACH,yBAAC;CAAA,IAAA;AAED,IAAI,MAAM,GAAG;IACX,OAAO,EAAE,UAAS,GAAQ,EAAE,OAAgB;QAC1C,IAAI,cAAc,GAAG,IAAI,kBAAkB,EAAE,CAAA;QAC7C,GAAG,CAAC,WAAW,GAAG,cAAc,CAAA;QAChC,GAAG,CAAC,SAAS,CAAC,YAAY,GAAG,cAAc,CAAA;QAC3C,GAAG,CAAC,SAAS,CAAC,SAAS,EAAE,UAAS,EAAO,EAAE,OAAY;YACrD,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;gBAC9C,EAAE,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAA;aAC1B;iBAAM;gBACL,EAAE,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAA;aAC3B;SACF,CAAC,CAAA;KACH;CACF,CAAA;;;;"}