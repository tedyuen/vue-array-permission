{"version":3,"file":"vue-array-permission.es5.js","sources":["../src/vue-array-permission.ts"],"sourcesContent":["/*\n * @Author: Ted Yuen \n * @Date: 2019-11-27 10:52:01 \n * @Last Modified by: Ted Yuen\n * @Last Modified time: 2019-11-27 12:15:35\n * @Desc: main entrance\n */\nclass VueArrayPermission {\n  permissions?: Array<string>\n  constructor() {\n    this.reset();\n  }\n\n  reset() {\n    this.permissions = []\n  }\n\n  authorize(permissions: Array<string>): void {\n    this.permissions = permissions;\n  }\n\n  hasPermission(permission: string): boolean {\n    if (this.permissions) {\n      return this.permissions.findIndex(item => item === permission) === -1 ? false : true;\n    } else {\n      return false;\n    }\n  }\n}\n\nlet Plugin = {\n  install: function (Vue: any, options?: object) {\n    let apermissionIns = new VueArrayPermission();\n    Vue.apermission = apermissionIns;\n    Vue.prototype.$apermission = apermissionIns;\n    Vue.directive('permission', function (el: any, binding: any) {\n      if (typeof binding.expression === 'string') {\n        if (apermissionIns.hasPermission(binding.expression)) {\n          el.style.display = \"none\";\n        } else {\n          el.style.display = \"block\";\n        }\n      }\n    })\n  }\n}\n\nexport default Plugin;\n\n"],"names":[],"mappings":"AAAA;;;;;;;AAOA;IAEE;QACE,IAAI,CAAC,KAAK,EAAE,CAAC;KACd;IAED,kCAAK,GAAL;QACE,IAAI,CAAC,WAAW,GAAG,EAAE,CAAA;KACtB;IAED,sCAAS,GAAT,UAAU,WAA0B;QAClC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;KAChC;IAED,0CAAa,GAAb,UAAc,UAAkB;QAC9B,IAAI,IAAI,CAAC,WAAW,EAAE;YACpB,OAAO,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,KAAK,UAAU,GAAA,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC;SACtF;aAAM;YACL,OAAO,KAAK,CAAC;SACd;KACF;IACH,yBAAC;CAAA,IAAA;AAED,IAAI,MAAM,GAAG;IACX,OAAO,EAAE,UAAU,GAAQ,EAAE,OAAgB;QAC3C,IAAI,cAAc,GAAG,IAAI,kBAAkB,EAAE,CAAC;QAC9C,GAAG,CAAC,WAAW,GAAG,cAAc,CAAC;QACjC,GAAG,CAAC,SAAS,CAAC,YAAY,GAAG,cAAc,CAAC;QAC5C,GAAG,CAAC,SAAS,CAAC,YAAY,EAAE,UAAU,EAAO,EAAE,OAAY;YACzD,IAAI,OAAO,OAAO,CAAC,UAAU,KAAK,QAAQ,EAAE;gBAC1C,IAAI,cAAc,CAAC,aAAa,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE;oBACpD,EAAE,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;iBAC3B;qBAAM;oBACL,EAAE,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;iBAC5B;aACF;SACF,CAAC,CAAA;KACH;CACF,CAAA;;;;"}